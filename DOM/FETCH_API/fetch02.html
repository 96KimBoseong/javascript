<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>fetch</title>
    <script>
      //document.addEventListener("DOMContentLoaded", function () {
      //fetch("students.json");
      /* .then((response) => response.json())
        .then((students) => {
          let output = "";
          students.forEach((student) => {
            output += `
          <h1>이름:${student.name}</h1>
          `;
          });
        }); */

      /* function order() {
        let menu = "coffee";
        return new Promise((resolve, reject) => resolve(menu));
      }
      function display(result) {
        return new Promise((resolve, reject) => resolve(`thank you,${result}`));
      }
      order().then(display).then(console.log);
*/
      /* async function order() {
        let menu = `coffee`;
        return menu;
      }
      async function display(result) {
        return `thank you,${result}`;
      }
      order().then(display).then(console.log); */

      // });
      /* async function order() {
        let menu = `coffee`;
        return menu;
      }
      async function display(result) {
        return `thank you,${result}`;
      }

      async function init() {
        const response = await order();
        const result = await display(response);
        console.log(result);
      }
      init(); */

      /* fetch("student.json")
        .then((response) => response.json)
        .then((students) => console.log(students)); */
      //json데이터를 객체로 변환

      /* async function init() {
        const response = await fetch("students.json");
        const students = await response.json();
        console.log(students);
      }
      init(); */
    </script>
    <style>
      table,
      tr,
      td {
        border: 1px solid #000;
      }
      div {
        width: 800px;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script>
      async function init() {
        const response = await fetch("https://jsonplaceholder.typicode.com/users");
        const users = await response.json();
        display(users);
      }

      function display(users) {
        const root = document.getElementById("root");
        let output = "";
        users.forEach((user) => {
          output += `
          <table>
              <tr><th>이름:</th><td>${user.name}</td></tr>
              <tr><th>아이디:</th><td>${user.username}</td></tr>
              <tr><th>이메일:</th><td>${user.email}</td></tr>
          </table>
          `;
        });
        root.innerHTML = output;
      }
      init();
    </script>
  </body>
</html>
